
<!doctype html>
<!--[if lt IE 7 ]> <html class="no-js ie6" lang="en-US" prefix="og: http://ogp.me/ns#"> <![endif]-->
<!--[if IE 7 ]>    <html class="no-js ie7" lang="en-US" prefix="og: http://ogp.me/ns#"> <![endif]-->
<!--[if IE 8 ]>    <html class="no-js ie8" lang="en-US" prefix="og: http://ogp.me/ns#"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns#"> <!--<![endif]-->
<head>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

<title>OpenProject Upgrade GuideOpenProject</title>

<link rel="stylesheet" href="../../wp-content/plugins/sitepress-multilingual-cms/res/css/language-selector-v=3.1.5.css" type="text/css" media="all" />

<link rel="stylesheet" href="../../wp-content/themes/BootstrapParallax/open_icons.css" type="text/css" />
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="../../xmlrpc.php" />

<link href="../../wp-content/themes/BootstrapParallax/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />

<link href="https://www.openproject.org/wp-content/themes/BootstrapParallax/images/apple-touch-icon.png" rel="apple-touch-icon">
<link href="../../wp-content/themes/BootstrapParallax/images/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed">
<link href="../../wp-content/themes/BootstrapParallax/images/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76">
<link href="../../wp-content/themes/BootstrapParallax/images/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120">
<link href="../../wp-content/themes/BootstrapParallax/images/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152">

<!--[if IE 7]>
  <link rel="stylesheet" href="../../wp-content/themes/BootstrapParallax/css/font-awesome-ie7.min.css">
<![endif]-->


<!-- This site is optimized with the Yoast WordPress SEO plugin v1.7.1 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="index.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="OpenProject Upgrade Guide" />
<meta property="og:description" content="OpenProject 3.0 to OpenProject 4.0 Debian/Ubuntu Upgrade Guide This guide&hellip;" />
<meta property="og:url" content="https://www.openproject.org/download/upgrade-guides/" />
<meta property="og:site_name" content="OpenProject" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="OpenProject &raquo; Feed" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="OpenProject &raquo; Comments Feed" href="../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="OpenProject &raquo; Upgrade Guide Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='bxslider-css-css'  href='../../wp-content/plugins/kiwi-logo-carousel/third-party/jquery.bxslider/jquery.bxslider-ver=4.1.css' type='text/css' media='' />
<link rel='stylesheet' id='kiwi-logo-carousel-styles-css'  href='../../wp-content/plugins/kiwi-logo-carousel/custom-styles-ver=4.1.css' type='text/css' media='' />
<link rel='stylesheet' id='bootstrap-styles-css'  href='../../wp-content/themes/BootstrapParallax/css/bootstrap-responsive-ver=2.3.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-css'  href='../../wp-content/themes/BootstrapParallax/css/bootstrap-ver=2.3.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='../../wp-content/themes/BootstrapParallax/css/font-awesome.min-ver=3.0.css' type='text/css' media='all' />
<link rel='stylesheet' id='colorbox-css'  href='../../wp-content/themes/BootstrapParallax/css/colorbox-ver=1.3.19.css' type='text/css' media='all' />
<link rel='stylesheet' id='responsive-style-css'  href='../../wp-content/themes/BootstrapParallax/style-ver=2.3.1.css' type='text/css' media='all' />
<!-- This site uses the Google Analytics by Yoast plugin v5.3 - Universal disabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-42469541-2']);
	_gaq.push(['_gat._forceSSL']);
	_gaq.push(['_trackPageview']);

	(function () {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();

</script>
<!-- / Google Analytics by Yoast -->
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js?ver=1.7.1'></script>
<script type='text/javascript' src='../../wp-content/plugins/alter-reset-password-form-action/password-r-ver=4.1.js'></script>
<script type='text/javascript' src='../../wp-content/themes/BootstrapParallax/js/responsive-modernizr-ver=2.5.3.js'></script>
<script type='text/javascript' src='../../wp-content/themes/BootstrapParallax/js/bootstrap-ver=4.1.js'></script>
<script type='text/javascript' src='../../wp-content/themes/BootstrapParallax/js/strap-extras-ver=4.1.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.1" />
<link rel='shortlink' href='index.html' />
<meta name="generator" content="WPML ver:3.1.5 stt:1;0" />

<style type="text/css">																																																																																																														
</style>    <script type="text/javascript">
    // <![CDATA[
    jQuery(document).ready(function($){
        $("a[rel='colorbox']").colorbox({
                transition:'elastic', 
                opacity:'0.7', 
                maxHeight:'90%'
        });
        $("a.gallery").colorbox({
                rel:'group'
        });
        $("a[rel='colorboxvideo']").colorbox({
                iframe:true, 
                transition:'elastic', 
                opacity:'0.7',
                innerWidth:'60%', 
                innerHeight:'80%'
        });
    });  
    // ]]>
    </script>
<style>.section1-main {
                    background: url("../../wp-content/uploads/2014/09/11.jpg") 50% 0 fixed; 
                }
                .section4-main {
                    background-image: url("../../wp-content/uploads/2014/09/collaboration-background.jpg");
                    /* background-repeat: no-repeat; */
                    background-attachment: fixed;
                    background-position: 50% 0;
                }
                .features-header {
                    background: url("../../wp-content/uploads/2014/09/features.jpg") 50% 0 fixed;
                }
                .opensource-header {
                    background: url("../../wp-content/uploads/2014/09/openproject-org-sub-category.jpg") 50% 0 fixed;
                }
                .download-header {
                    background: url("../../wp-content/uploads/2014/10/mountains.jpg") 50% 0 fixed;
                }
                .blog-header {
                    background: url("../../wp-content/uploads/2014/10/header-blog.jpg") 50% 0 fixed;
                }
                .help-header {
                    background: url("../../wp-content/uploads/2014/09/help.jpg") 50% 0 fixed;
                }
                .search-header {
                    background: url("../../wp-content/uploads/2014/09/help.jpg") 50% 0 fixed;
                }
                .imprint-header {
                    background: url("../../wp-content/uploads/2014/10/imprint.jpg") 50% 0 fixed;
                }
                .contact-header {
                    background: url("../../wp-content/uploads/2014/10/imprint.jpg") 50% 0 fixed;
                }
                .error-header {
                    background: url("../../wp-content/uploads/2014/10/imprint.jpg") 50% 0 fixed;
                }
                </style>
<link rel="stylesheet" href="../../wp-content/themes/BootstrapParallax/build/style1.css" type="text/css" />
<link rel="stylesheet" href="../../wp-content/themes/BootstrapParallax/build/tablet-style.css" type="text/css" />
<link rel="stylesheet" href="../../wp-content/themes/BootstrapParallax/build/style-mobile.css" type="text/css" />
<!--<script src="--><!--/js/transify.js"></script>-->
<script src="../../wp-content/themes/BootstrapParallax/js/jquery.color-2.1.2.min.js"></script>
<script src="../../wp-content/themes/BootstrapParallax/js/scripts.js"></script>
<script src="../../wp-content/themes/BootstrapParallax/js/top-nav-transify.js"></script>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!--[if (gte IE 6)&(lte IE 8)]>
    <script type="text/javascript" src="../../wp-content/themes/BootstrapParallax/js/selectivizr.js"></script>
    <![endif]-->

<style>
.affix
{
    background-color: #fff;
    width: 100%;
    top: 0px;
}
</style>

</head>

<body class="page page-id-2543 page-child parent-pageid-50 page-template page-template-download page-template-download-php">
                 

         
        <div id="header">
  
        
       
	
    <div class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>

                       <div id="logo"><a href="../../index.html" title="OpenProject" rel="homepage">
            <img src="../../wp-content/uploads/2014/09/logo1.png" alt="OpenProject"/>
            </a></div><!-- end of #logo -->
                    



          <div class="nav-collapse collapse">
			   <ul id="menu-top-menu" class="nav"><li class="menu-item search-form"><form class="form-search" id="op-search-form" action="http://www.openproject.org/">
  <div class="input-append">
    <input type="text" class="span2 search-query show-input-form" placeholder="Search &hellip;" name="s" id="s" value="" />
    <button type="submit" class="search-btn search-form-active"><i class="icon icon-search3 icon-flip-horizontal"></i></button>
  </div>
</form></li><li id="menu-item-365" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown menu-item-365"><a href="../../features/index.html">Features<a href="../../features/index.html" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon icon-arrow-right5-2"></i><i class="icon icon-arrow-right5-3"></i></a>
<ul class="dropdown-menu">
	<li id="menu-item-463" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-463"><a href="../../features/work-packages/index.html">Work Packages</a></li>
	<li id="menu-item-461" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-461"><a href="../../features/timelines/index.html">Timelines</a></li>
	<li id="menu-item-373" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-373"><a href="../../features/agile-scrum/index.html">Agile and Scrum</a></li>
	<li id="menu-item-462" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-462"><a href="../../features/wiki/index.html">Wiki</a></li>
	<li id="menu-item-460" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-460"><a href="../../features/time-and-costs/index.html">Time and Costs</a></li>
	<li id="menu-item-459" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-459"><a href="../../features/more/index.html">More</a></li>
</ul>
</li>
<li id="menu-item-1081" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-menu-ancestor current-menu-parent current-page-parent current_page_parent current_page_ancestor menu-item-has-children dropdown active open menu-item-1081"><a href="../index.html">Download<a href="../index.html" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon icon-arrow-right5-2"></i><i class="icon icon-arrow-right5-3"></i></a>
<ul class="dropdown-menu">
	<li id="menu-item-3315" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3315"><a href="../setup-scenarios/index.html">Setup Scenarios</a></li>
	<li id="menu-item-3313" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3313"><a href="../packaged-installation-core/index.html">Packaged Installation Core</a></li>
	<li id="menu-item-3887" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3887"><a href="../packaged-installation-community/index.html">Packaged Installation Community</a></li>
	<li id="menu-item-3317" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3317"><a href="../manual-installation/index.html">Manual Installation</a></li>
	<li id="menu-item-3319" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-2543 current_page_item active open menu-item-3319"><a href="index.html">Upgrade Guide</a></li>
	<li id="menu-item-3320" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3320"><a href="../backup-guide/index.html">Backup Guide</a></li>
	<li id="menu-item-3321" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3321"><a href="../install-plugins/index.html">Install Plugins</a></li>
	<li id="menu-item-3322" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3322"><a href="../../systemrequirements/index.html">System Requirements</a></li>
	<li id="menu-item-3312" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3312"><a href="../release-notes/index.html">Release Notes</a></li>
</ul>
</li>
<li id="menu-item-367" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown menu-item-367"><a href="../../help/index.html">Help<a href="../../help/index.html" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon icon-arrow-right5-2"></i><i class="icon icon-arrow-right5-3"></i></a>
<ul class="dropdown-menu">
	<li id="menu-item-3323" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3323"><a href="../../help/user-guides/index.html">User Guides</a></li>
	<li id="menu-item-3324" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3324"><a href="../../help/faq/index.html">FAQ</a></li>
	<li id="menu-item-3325" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3325"><a href="../../help/user-guides/keyboard-shortcuts-access-keys/index.html">Shortcuts</a></li>
	<li id="menu-item-3329" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3329"><a href="https://community.openproject.org/projects/openproject/boards">Forum</a></li>
</ul>
</li>
<li id="menu-item-959" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-959"><a href="https://openproject-demo.org/"><span><button type="submit" name="Login" class="login">Demo</button></span></a></li>
</ul>            
                       </div>

        </div>
        </div>
     </div>           

           
 
    </div><!-- end of #header -->
        
	    
    

<div id="wrapper" class="clearfix opensource">

    <section id="section1" class="opensource-header download-header" data-speed="4" data-type="background">

        <div id="text-28" class="widget_text">			<div class="textwidget"><div class="banner-text centered centered-sm">
<h1 class="headline-teaser">Download and <em>Install</em></h1><p>Have full control of <strong>your</strong> project data. 
Run OpenProject on your <strong>own servers</strong>
within <strong>your infrastructure.</strong></p>
</div></div>
		</div>
    </section>

    <section id="section2" class="opensource-nav clearfix">
        <div id="text-27" class="widget_text">			<div class="textwidget"><div class="get-started">

<fieldset>
<p>Be part of a <b>worldwide community</b> of open source enthusiasts</p><a  href="https://community.openproject.org/projects/openproject/wiki/Contribution/"class="button-blue" style="margin-left:20px">Contribute</a><a  href="https://community.openproject.org/projects/openproject/wiki/Report_a_bug"class="button-yellow" style="margin-left:20px">Report bug</a>
</fieldset>

</div></div>
		</div>    </section>
    <section id="section3" class="opensource-content double-content clearfix">
<div class="center-wrapper">

        <div class="opensource-menu double-content-menu">
<div style="width: 334px;"></div>
            <ul id="menu-download-and-installation" class="menu"><li id="menu-item-2505" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-page-parent menu-item-2505"><a href="../index.html">Overview</a></li>
<li id="menu-item-4265" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4265"><a href="../openproject-demo/index.html">OpenProject Demo</a></li>
<li id="menu-item-1377" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1377"><a href="../setup-scenarios/index.html">Setup Scenarios</a></li>
<li id="menu-item-2583" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2583"><a href="../packaged-installation-core/index.html">Packaged Installation Core</a></li>
<li id="menu-item-3821" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3821"><a href="../packaged-installation-community/index.html">Packaged Installation Community</a></li>
<li id="menu-item-2541" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2541"><a href="../manual-installation/index.html">Manual Installation</a></li>
<li id="menu-item-2545" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-2543 current_page_item active open menu-item-2545"><a href="index.html">Upgrade Guide</a></li>
<li id="menu-item-2537" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2537"><a href="../backup-guide/index.html">Backup Guide</a></li>
<li id="menu-item-2631" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown menu-item-2631"><a href="../install-plugins/index.html">Plugins<a href="../install-plugins/index.html" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon icon-arrow-right5-2"></i><i class="icon icon-arrow-right5-3"></i></a>
<ul class="dropdown-menu">
	<li id="menu-item-4078" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4078"><a href="../install-plugins/openproject-plugins/index.html">OpenProject Plugins</a></li>
</ul>
</li>
<li id="menu-item-2542" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2542"><a href="../../systemrequirements/index.html">System Requirements</a></li>
<li id="menu-item-2762" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown menu-item-2762"><a href="../release-notes/index.html">Release Notes<a href="../release-notes/index.html" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon icon-arrow-right5-2"></i><i class="icon icon-arrow-right5-3"></i></a>
<ul class="dropdown-menu">
	<li id="menu-item-4298" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4298"><a href="../release-notes/openproject-4-0-6/index.html">OpenProject 4.0.6</a></li>
	<li id="menu-item-4062" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4062"><a href="../release-notes/openproject-4-0-5/index.html">OpenProject 4.0.5</a></li>
	<li id="menu-item-3330" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3330"><a href="../release-notes/openproject-4-0-4/index.html">OpenProject 4.0.4</a></li>
	<li id="menu-item-3026" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3026"><a href="../release-notes/openproject-4-0-2/index.html">OpenProject 4.0.2</a></li>
	<li id="menu-item-2928" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2928"><a href="../release-notes/openproject-4-0-1/index.html">OpenProject 4.0.1</a></li>
	<li id="menu-item-2764" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2764"><a href="../release-notes/openproject-4-0/index.html">OpenProject 4.0.0</a></li>
	<li id="menu-item-4063" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4063"><a href="../release-notes/openproject-3-0-17/index.html">OpenProject 3.0.17</a></li>
	<li id="menu-item-3027" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3027"><a href="../release-notes/openproject-3-0-16/index.html">OpenProject 3.0.16</a></li>
	<li id="menu-item-2925" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2925"><a href="../release-notes/openproject-3-0-15/index.html">OpenProject 3.0.15</a></li>
	<li id="menu-item-2765" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2765"><a href="../release-notes/openproject-3-0-14/index.html">OpenProject 3.0.14</a></li>
	<li id="menu-item-2755" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2755"><a href="../release-notes/openproject-3-0-13/index.html">OpenProject 3.0.13</a></li>
	<li id="menu-item-2756" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2756"><a href="../release-notes/openproject-3-0-12/index.html">OpenProject 3.0.12</a></li>
	<li id="menu-item-2757" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2757"><a href="../release-notes/openproject-3-0-11/index.html">OpenProject 3.0.11</a></li>
	<li id="menu-item-2758" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2758"><a href="../release-notes/openproject-3-0-8/index.html">OpenProject 3.0.8</a></li>
	<li id="menu-item-2759" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2759"><a href="../release-notes/openproject-3-0-4/index.html">OpenProject 3.0.4</a></li>
	<li id="menu-item-2760" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2760"><a href="../release-notes/openproject-3-0-3/index.html">OpenProject 3.0.3</a></li>
	<li id="menu-item-2761" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2761"><a href="../release-notes/openproject-3-0-1/index.html">OpenProject 3.0.1</a></li>
	<li id="menu-item-2768" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2768"><a href="../release-notes/openproject-3-0-0/index.html">OpenProject 3.0.0</a></li>
</ul>
</li>
</ul>
        </div>

        <div class="opensource-content-container double-content-container">

                            
                    <div id="post-2543" class="post-2543 page type-page status-publish hentry">
                        <div class="post-entry">
                            <h1>OpenProject 3.0 to OpenProject 4.0 Debian/Ubuntu Upgrade Guide</h1>
<p>This guide describes the upgrade process from OpenProject 3.0 to 4.0 on Debian 7.7 and Ubuntu 14.04 LTS step by step.<br />
Note: We strongly recommend to update your OpenProject installation to the latest available 3.0 version (currently 3.0.14), before attempting an update to 4.0.</p>
<p>&nbsp;</p>
<h2>1. Preparation</h2>
<ul>
<li>Before Updating, check that all the installed OpenProject plugins support the new OpenProject Version. Remove incompatible plugins before attempting an upgrade.</li>
<li>Stop the OpenProject Server. You may even add a maintenance page, if you feel comfortable with that (for example using the approach taken in<a class="external" href="http://blog.flowdock.com/2009/03/11/stopping-your-rails-application-with-phusion-passenger/"> this blog post</a>)</li>
<li>Please <a class="wiki-page" title="Backup Guide" href="../backup-guide/index.html">do a backup</a></li>
<li>Stop the (delayed_job) worker process.<br />
If you run the worker process with a cronjob, disable the cronjob temporarily.<br />
In case you run the woker process through <code>RAILS_ENV=production bundle exec script/delayed_job start</code>, execute the following:</li>
</ul>
<pre class="">RAILS_ENV=production bundle exec script/delayed_job stop</pre>
<p>Update your system:</p>
<pre class="">[root@debian]# apt-get update
[root@debian]# apt-get upgrade</pre>
<h2>2. Get the new OpenProject Source Code</h2>
<p>Change into the directory where OpenProject was installed as the operating-system-user OpenProject runs as. We assume that OpenProject is installed in <code>/home/openproject/openproject</code> by the <code>openproject</code> user.</p>
<pre>[root@debian]# su - openproject -c "bash -l" 
[openproject@debian]# cd ~/openproject/openproject
</pre>
<p>Remove manual changes and modifications (If you have modified OpenProject source files and want to preserve those changes, back up your changes, and re-apply them later):</p>
<pre class="">[openproject@debian]# git reset --hard
[openproject@debian]# git checkout stable
[openproject@debian]# git pull</pre>
<h2>3. Upgrade Ruby</h2>
<p>OpenProject 4.0 requires Ruby to be installed in version 2.1.x. Assuming you have installed Ruby via <a class="external" href="https://rvm.io/">RVM</a>, do the following to upgrade your Ruby installation:</p>
<pre class="">[openproject@debian]# rvm get stable
[openproject@debian]# export -f rvm_debug
[openproject@debian]# rvm install 2.1.4
[openproject@debian]# rvm use --default 2.1.4
[openproject@debian]# gem install bundler
[openproject@debian]# bundle install</pre>
<h2>4. Node.js installation</h2>
<p>The major change from OpenProject 3.0 to 4.0 (when looking at the system requirements and installation) is how the assets (JavaScript and CSS) are precompiled. The precompilation step needs Node.js now.<br />
We will install the latest 0.10.x version of Node.js via <a class="external" href="https://pypi.python.org/pypi/nodeenv">nodeenv</a> :</p>
<pre>[openproject@debian]# exit
[root@debian]# apt-get install python python-pip
[root@debian]# pip install nodeenv
[root@debian]# su - openproject -c "bash -l" 
[openproject@debian]# cd /home/openproject
[openproject@debian]# nodeenv nodeenv
[openproject@debian]# source ./nodeenv/bin/activate
[openproject@debian]# npm -g install bower
</pre>
<p>As a reference, the following Node.js and NPM versions have been installed on our system:</p>
<pre class="">[openproject@debian]# node --version
                      v0.10.32
[openproject@debian]# npm --version
                      1.4.28
[openproject@debian]# bower --version
                      1.3.12</pre>
<h2>5. The Upgrade</h2>
<p>Now that the sources and dependencies are in place, you can migrate the Database and do the upgrade:</p>
<pre class="">[openproject@debian]# cd /home/openproject/openproject
[openproject@debian]# npm install
[openproject@debian]# bower install
[openproject@debian]# RAILS_ENV="production" bundle exec rake db:migrate
[openproject@debian]# RAILS_ENV="production" bundle exec rake db:seed
[openproject@debian]# RAILS_ENV="production" bundle exec rake assets:precompile
[openproject@debian]# touch tmp/restart.txt</pre>
<h2>6. Serving OpenProject</h2>
<p>This sections only applies to you, if you serve OpenProject via Apache and Passenger. If you serve OpenProject in a different way, be sure to check that it still works.</p>
<p>During the 3.0 installation, we have set-up Passenger in the Apache configuration files. During the OpenProject upgrade, we have potentially installed a new Ruby and Passenger Version. The versions of Ruby and Passenger appear in the Apache configuration like this:</p>
<pre>LoadModule passenger_module /home/openproject/.rvm/gems/ruby-2.1.4/gems/passenger-4.0.53/buildout/apache2/mod_passenger.so
&lt;IfModule mod_passenger.c&gt;
  PassengerRoot /home/openproject/.rvm/gems/ruby-2.1.4/gems/passenger-4.0.53
  PassengerDefaultRuby /home/openproject/.rvm/gems/ruby-2.1.4/wrappers/ruby
&lt;/IfModule&gt;
</pre>
<p>Please run the following commands to upgrade passenger and re-install the Apache module:</p>
<pre>[openproject@debian]# gem update passenger
[openproject@debian]# gem cleanup passenger
[openproject@debian]# passenger-install-apache2-module
</pre>
<p>The output of <code>passenger-install-apache2-module2</code> tells you how to configure Apache.<br />
It is basically the same as what is already installed, except for the updated version numbers.</p>
<p>Don&#8217;t forget to restart apache after the configuration change:</p>
<pre class="">[root@debian]# service apache2 reload</pre>
<h2>7. The Aftermath</h2>
<ul>
<li>Re-enable the <code>delayed_job</code> cron job that was disabled in the first step.</li>
<li>If you have put up a maintenance page, remove it.</li>
<li>Start the OpenProject server again</li>
<li>Watch for further OpenProject updates in our <a class="external" href="https://community.openproject.org/projects/openproject/news">news</a>, or on <a class="external" href="https://twitter.com/openproject">twitter</a>.</li>
</ul>
<h2>8. Questions, Comments, and Feedback</h2>
<p>If you have any further questions, comments, feedback, or an idea to enhance this guide, please tell us at the appropriate <a class="external" href="https://community.openproject.org/projects/openproject/boards/9">forum</a>.</p>
<p>Also, please take a look at the <a title="Upgrading to the Current Version Questions" href="../../help/faq/upgrading-current-version-questions/index.html">Frequently Asked Questions</a>.</p>
                        </div><!-- end of .post-entry -->
                     </div><!-- end of #post-2543 -->

                            
        </div>

</div>
    </section>

    <!-- Section #8 -->
    <section id="section8" class="clearfix follow-us" data-speed="4" data-type="background">
        <div class="container">
            <div id="text-16" class="widget-wrapper widget_text">			<div class="textwidget"><div class="border"></div>
<fieldset>
<div><a target="_blank" href="https://twitter.com/openproject"><span class="hide-link">Follow us on</span> <i class="twitter-text"></a></i></div>
<div><a target="_blank" href="https://github.com/opf/openproject"><span class="hide-link">Fork us on</span> <i class="github-text"></i></a></div>
</fieldset>
</div>
		</div>        </div>
    </section>
</div><!-- end of wrapper-->

     
<!-- Section #9 footer -->
<footer id="footer" class="footer" data-speed="10" data-type="background">
    <div class="container">
        <div class="row-fluid footer-top">
            <div class="span4">
            <div id="text-7" class="widget_text">			<div class="textwidget"><ul class="breadcrumb"><li><span>You are here: </span><a href="../../index.html">Home</a><span class="divider">/</span></li><li><a href="../index.html">Download</a></li> <span class="divider">/</span> <li class="current">Upgrade Guide</li></ul></div>
		</div>            </div>
        </div>
        <div class="row-fluid footer-middle">
            <div class="span4">
            <div id="nav_menu-4" class="widget_nav_menu"><div id="widget-title-two" class="widget-title-footer"><h2>DOWNLOAD</h2></div><div class="menu-footer-download-container"><ul id="menu-footer-download" class="menu"><li id="menu-item-2810" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-page-parent menu-item-2810"><a href="../index.html">Overview</a></li>
<li id="menu-item-2811" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2811"><a href="../setup-scenarios/index.html">Setup Scenarios</a></li>
<li id="menu-item-2812" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2812"><a href="../packaged-installation-core/index.html">Packaged Installation Core</a></li>
<li id="menu-item-3886" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3886"><a href="../packaged-installation-community/index.html">Packaged Installation Community</a></li>
<li id="menu-item-2813" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2813"><a href="../manual-installation/index.html">Manual Installation</a></li>
<li id="menu-item-2814" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-2543 current_page_item menu-item-2814"><a href="index.html">Upgrade Guide</a></li>
<li id="menu-item-2815" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2815"><a href="../backup-guide/index.html">Backup Guide</a></li>
<li id="menu-item-2816" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2816"><a href="../install-plugins/index.html">Install Plugins</a></li>
<li id="menu-item-2817" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2817"><a href="../../systemrequirements/index.html">System Requirements</a></li>
<li id="menu-item-2818" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2818"><a href="../release-notes/index.html">Release Notes</a></li>
</ul></div></div><div id="nav_menu-5" class="widget_nav_menu"><div id="widget-title-two" class="widget-title-footer"><h2>FEATURES</h2></div><div class="menu-footer-features-container"><ul id="menu-footer-features" class="menu"><li id="menu-item-2691" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2691"><a href="../../features/index.html">Overview</a></li>
<li id="menu-item-85" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-85"><a title="Collaborative Project Planning" href="../../features/work-packages/index.html">Work Packages</a></li>
<li id="menu-item-87" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-87"><a title="Timelines" href="../../features/timelines/index.html">Timelines</a></li>
<li id="menu-item-88" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-88"><a title="Agile and Scrum" href="../../features/agile-scrum/index.html">Agile and Scrum</a></li>
<li id="menu-item-90" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-90"><a title="Wiki" href="../../features/wiki/index.html">Wiki</a></li>
<li id="menu-item-91" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-91"><a title="Documents" href="../../features/time-and-costs/index.html">Time and Costs</a></li>
<li id="menu-item-1523" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1523"><a href="../../features/more/index.html">More</a></li>
</ul></div></div><div id="nav_menu-7" class="widget_nav_menu"><div id="widget-title-two" class="widget-title-footer"><h2>HELP</h2></div><div class="menu-footer-help-container"><ul id="menu-footer-help" class="menu"><li id="menu-item-4426" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4426"><a href="../../category/blog/index.html">Blog</a></li>
<li id="menu-item-117" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-117"><a href="../../help/user-guides/index.html">User Guides</a></li>
<li id="menu-item-2404" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2404"><a href="../../help/faq/index.html">FAQ</a></li>
<li id="menu-item-2405" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2405"><a href="../../help/user-guides/keyboard-shortcuts-access-keys/index.html">Keyboard Shortcuts and Access Keys</a></li>
<li id="menu-item-2407" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2407"><a href="https://community.openproject.org/projects/openproject/boards">Forum</a></li>
</ul></div></div>            </div>
        </div>
        <div class="row-fluid footer-bottom">
            <div class="span4">
            <div id="text-19" class="widget_text"><div id="widget-title-three" class="widget-title-footer"><h2>Language:</h2></div>			<div class="textwidget"></div>
		</div><div id="icl_lang_sel_widget-2" class="widget_icl_lang_sel_widget"><div id="lang_sel"  >
    <ul>
        <li><a href="index.html#" class="lang_sel_sel icl-en">
                            
            <img  class="iclflag" src="../../wp-content/plugins/sitepress-multilingual-cms/res/flags/en.png" alt="en"  title="EN" />                                
            &nbsp;EN</a>                    </li>
    </ul>    
</div>
</div><div id="nav_menu-3" class="widget_nav_menu"><div class="menu-bottom-menu-container"><ul id="menu-bottom-menu" class="menu"><li id="menu-item-29" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-29"><a href="../../contact-us/index.html">Contact Us</a></li>
<li id="menu-item-272" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-272"><a href="../../sitemap_index.xml">Sitemap</a></li>
<li id="menu-item-28" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-28"><a href="../../imprint/index.html">Legal notice</a></li>
</ul></div></div><div id="text-2" class="widget_text">			<div class="textwidget">&copy; 2015 - OpenProject. All rights reserved.</div>
		</div>            </div>
        </div>
    </div>
</footer>

<script>jQuery(document).ready(function(){jQuery(".kiwi-logo-carousel-default").bxSlider({mode:"horizontal",speed:500,infiniteLoop:true,hideControlOnEnd:false,captions:false,ticker:false,tickerHover:false,adaptiveHeight:false,responsive:true,pager:false,controls:true,autoControls:false,minSlides:1,maxSlides:4,moveSlides:1,slideWidth:200,auto:true,pause:4000,useCSS:false});jQuery(".kiwi-logo-carousel-landing-page").bxSlider({mode:"horizontal",speed:500,infiniteLoop:true,hideControlOnEnd:false,captions:false,ticker:false,tickerHover:false,adaptiveHeight:false,responsive:true,pager:false,controls:true,autoControls:false,minSlides:1,maxSlides:4,moveSlides:1,slideWidth:200,auto:true,pause:4000,useCSS:false});});</script><script type='text/javascript' src='../../wp-content/themes/BootstrapParallax/js/responsive-scripts-ver=1.1.0.js'></script>
<script type='text/javascript' src='../../wp-content/themes/BootstrapParallax/js/responsive-plugins-ver=1.1.0.js'></script>
<script type='text/javascript' src='../../wp-content/themes/BootstrapParallax/js/jquery.colorbox-min-ver=1.3.19.js'></script>
<script type='text/javascript' src='../../wp-includes/js/comment-reply.min-ver=4.1.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var icl_vars = {"current_language":"en","icl_home":"http:\/\/www.openproject.org\/"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/sitepress-multilingual-cms/res/js/sitepress-ver=4.1.js'></script>
<script type='text/javascript' src='../../wp-content/plugins/kiwi-logo-carousel/third-party/jquery.bxslider/jquery.bxslider-ver=4.1.js'></script>

</body>
</html>